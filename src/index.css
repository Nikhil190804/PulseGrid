:root {
--bg: #f7f7fb;
--panel: #ffffff;
--text: #1a1a1a;
--muted: #6b7280;
--primary: #2563eb;
--primary-weak: #dbeafe;
--ok: #16a34a;
--bad: #dc2626;
--warn: #d97706;
--cell: #e5e7eb;
--cell-border: #cbd5e1;
--shadow: 0 8px 24px rgba(0,0,0,0.08);
}

:root[data-theme="dark"] {
--bg: #0b1020;
--panel: #12182a;
--text: #e5e7eb;
--muted: #9aa3b2;
--primary: #60a5fa;
--primary-weak: #0b1a3a;
--ok: #34d399;
--bad: #f87171;
--warn: #fbbf24;
--cell: #1a233a;
--cell-border: #2b3553;
--shadow: 0 10px 30px rgba(0,0,0,0.35);
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
margin: 0;
font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
"Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
"Segoe UI Emoji";
background: var(--bg);
color: var(--text);
}


.app {
min-height: 100%;
display: flex;
align-items: center;
justify-content: center;
padding: 24px;
}


.card {
width: 100%;
max-width: 960px;
background: var(--panel);
border: 1px solid var(--cell-border);
border-radius: 16px;
box-shadow: var(--shadow);
padding: 20px;
}

.header {
display: flex;
align-items: center;
justify-content: space-between;
gap: 12px;
margin-bottom: 8px;
}


.title {
font-size: 20px;
font-weight: 700;
}


.subtle {
color: var(--muted);
font-size: 13px;
}


.topbar {
display: flex;
align-items: center;
justify-content: space-between;
gap: 12px;
margin: 8px 0 16px 0;
}


.grid-wrap {
display: grid;
grid-template-columns: 1fr;
gap: 16px;
}

.board {
display: grid;
margin: 0 auto;
width: min(90vw, 420px);
aspect-ratio: 1/1;
grid-template-columns: repeat(5, 1fr);
grid-auto-rows: 1fr;
gap: 8px;
}


.cell {
border-radius: 10px;
border: 1px solid var(--cell-border);
background: var(--cell);
display: grid;
place-items: center;
user-select: none;
transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
}

.cell.flash {
/* This class will be used when the flashing pattern shows a lit cell */
background: var(--primary-weak);
border-color: var(--primary);
transform: scale(1.02);
}


.cell.selectable:hover {
outline: 2px solid var(--primary);
cursor: pointer;
}


.cell.selected {
background: var(--primary-weak);
border-color: var(--primary);
}

.cell.correct { background: color-mix(in oklab, var(--ok) 22%, var(--cell)); border-color: var(--ok); }
.cell.incorrect { background: color-mix(in oklab, var(--bad) 25%, var(--cell)); border-color: var(--bad); }
.cell.missed { background: color-mix(in oklab, var(--warn) 25%, var(--cell)); border-color: var(--warn); }


.controls {
display: flex;
flex-wrap: wrap;
gap: 8px;
}


button {
border: 1px solid var(--cell-border);
background: var(--panel);
color: var(--text);
padding: 10px 14px;
border-radius: 10px;
font-weight: 600;
transition: background 120ms ease, transform 80ms ease;
}

button:hover { background: var(--cell); }
button:active { transform: translateY(1px); }
button.primary { background: var(--primary); color: white; border-color: var(--primary); }
button.primary:hover { filter: brightness(1.05); }
button.ghost { background: transparent; }


.kpi {
display: flex;
gap: 14px;
flex-wrap: wrap;
}
.kpi .pill {
background: var(--cell);
border: 1px solid var(--cell-border);
padding: 8px 10px;
border-radius: 999px;
font-size: 13px;
}

.footer {
margin-top: 12px;
display: flex;
justify-content: space-between;
align-items: center;
}


.hint {
font-size: 13px;
color: var(--muted);
}


.alert {
padding: 10px 12px;
border: 1px dashed var(--cell-border);
border-radius: 8px;
background: var(--cell);
}

.intro {
display: grid;
gap: 12px;
text-align: center;
}


.sep { height: 1px; background: var(--cell-border); margin: 12px 0; }